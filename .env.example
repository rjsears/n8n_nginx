# n8n Management System v3.0 - Environment Variables
# Copy this file to .env and configure your values

# ===========================================
# Required Settings
# ===========================================

# Your domain name (e.g., n8n.example.com)
DOMAIN=loftai.loft.aero

# PostgreSQL password (generate a strong random password)
POSTGRES_PASSWORD=change_this_to_secure_password

# n8n encryption key (minimum 10 characters)
N8N_ENCRYPTION_KEY=change_this_to_random_secure_key_min_10_chars

# Management console secret key (for session encryption)
MGMT_SECRET_KEY=change_this_to_another_random_key

# ===========================================
# Optional Settings
# ===========================================

# PostgreSQL settings (defaults shown)
POSTGRES_USER=n8n
POSTGRES_DB=n8n

# Management console port (default: 3333)
MGMT_PORT=3333

# Management database user (default: n8n_mgmt)
MGMT_DB_USER=n8n_mgmt
MGMT_DB_PASSWORD=

# Management encryption key (defaults to N8N_ENCRYPTION_KEY if not set)
MGMT_ENCRYPTION_KEY=

# Timezone (default: America/Los_Angeles)
TIMEZONE=America/Los_Angeles

# ===========================================
# n8n API Integration (Optional)
# ===========================================

# n8n API key for creating test workflows from management console
# Generate in n8n: Settings → API → Create API Key
N8N_API_KEY=

# ===========================================
# NFS Backup Storage (Optional)
# ===========================================

# NFS server address (leave empty to use local storage)
NFS_SERVER=
# NFS export path
NFS_PATH=

# ===========================================
# Cloudflare Tunnel (Optional)
# ===========================================

# Enable with: docker-compose --profile cloudflare up -d
CLOUDFLARE_TUNNEL_TOKEN=

# ===========================================
# Tailscale VPN (Optional)
# ===========================================

# Enable with: docker-compose --profile tailscale up -d
TAILSCALE_AUTH_KEY=

# ===========================================
# NTFY Push Notifications (Optional)
# ===========================================

# NTFY public URL - must match your Cloudflare Tunnel public hostname
# Default: https://ntfy.${DOMAIN} (e.g., https://ntfy.example.com)
NTFY_BASE_URL=

# Authentication settings
NTFY_AUTH_DEFAULT_ACCESS=read-write
NTFY_ENABLE_LOGIN=true
NTFY_ENABLE_SIGNUP=false

# Cache and attachment settings
NTFY_CACHE_DURATION=24h
NTFY_ATTACHMENT_TOTAL_SIZE_LIMIT=100M
NTFY_ATTACHMENT_FILE_SIZE_LIMIT=15M
NTFY_ATTACHMENT_EXPIRY_DURATION=24h
NTFY_KEEPALIVE_INTERVAL=45s

# SMTP Email Notifications (optional)
# For IP-whitelisted relay (Google Workspace): just set ADDR and FROM
# For authenticated SMTP: set all four values
NTFY_SMTP_SENDER_ADDR=
NTFY_SMTP_SENDER_USER=
NTFY_SMTP_SENDER_PASS=
NTFY_SMTP_SENDER_FROM=
